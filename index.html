<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cycle Mood Tracker</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>body{font-family:system-ui, sans-serif;background:#fafafa}</style>
</head>
<body>
<div id="root"></div>

<!-- React + React-DOM (production) -->
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>

<script>
/* Mini React component (vanilla JS, no JSX) */
const {useState, useEffect} = React;
const {Plus, Calendar, TrendingUp, Settings, Heart} = lucide;

function App(){
  const [tab,setTab]=useState('track');
  const [data,setData]=useState({entries:{}});
  const today=new Date().toISOString().split('T')[0];
  const entry=data.entries[today]||{moods:[],symptoms:[],notes:''};

  const moods=[
    {id:'happy',emoji:'ðŸ˜Š',name:'Happy',color:'bg-yellow-100'},
    {id:'sad',emoji:'ðŸ˜¢',name:'Sad',color:'bg-blue-100'},
    {id:'angry',emoji:'ðŸ˜¤',name:'Angry',color:'bg-red-100'},
    {id:'anxious',emoji:'ðŸ˜°',name:'Anxious',color:'bg-purple-100'},
    {id:'energetic',emoji:'âš¡',name:'Energetic',color:'bg-orange-100'},
    {id:'tired',emoji:'ðŸ˜´',name:'Tired',color:'bg-gray-100'},
    {id:'emotional',emoji:'ðŸ¥º',name:'Emotional',color:'bg-pink-100'},
    {id:'calm',emoji:'ðŸ˜Œ',name:'Calm',color:'bg-green-100'},
  ];
  const symptoms=['Cramps','Bloating','Headache','Acne','Cravings','Nausea','Fatigue','Mood swings'];

  const toggle=(arr,val)=>arr.includes(val)?arr.filter(v=>v!==val):[...arr,val];
  const update=(field,val)=>setData(d=>({...d,entries:{...d.entries,[today]:{...entry,[field]:val}}}));

  const TrackTab=()=>(
    <div class="p-4 space-y-4">
      <div class="bg-white p-4 rounded-xl shadow">
        <h2 class="text-lg font-semibold mb-3">How are you feeling?</h2>
        <div class="grid grid-cols-2 gap-2">
          ${moods.map(m=>`
            <button onclick='update("moods",toggle(${JSON.stringify(entry.moods)},${JSON.stringify(m.id)}))'
              class="p-3 rounded-lg text-center ${entry.moods.includes(m.id)?m.color:'bg-gray-100'}">
              <div class="text-2xl">${m.emoji}</div>
              <div class="text-sm">${m.name}</div>
            </button>`).join('')}
        </div>
      </div>
      <div class="bg-white p-4 rounded-xl shadow">
        <h2 class="text-lg font-semibold mb-3">Symptoms</h2>
        <div class="flex flex-wrap gap-2">
          ${symptoms.map(s=>`
            <button onclick='update("symptoms",toggle(${JSON.stringify(entry.symptoms)},${JSON.stringify(s)}))'
              class="px-3 py-1 rounded-full text-sm ${entry.symptoms.includes(s)?'bg-rose-500 text-white':'bg-gray-200'}">
              ${s}
            </button>`).join('')}
        </div>
      </div>
      <div class="bg-white p-4 rounded-xl shadow">
        <h2 class="text-lg font-semibold mb-2">Notes</h2>
        <textarea rows="3" class="w-full p-2 border rounded" placeholder="Anything else?"
          onchange='update("notes",this.value)'>${entry.notes||''}</textarea>
      </div>
    </div>
  );

  const tabs=[{id:'track',name:'Track',icon:Plus},{id:'calendar',name:'Calendar',icon:Calendar},{id:'insights',name:'Insights',icon:TrendingUp},{id:'settings',name:'Settings',icon:Settings}];

  return React.createElement('div',{className:'max-w-sm mx-auto min-h-screen bg-gray-50'},
    React.createElement('header',{className:'bg-gradient-to-r from-rose-400 to-pink-500 text-white p-4 flex items-center space-x-2'},
      React.createElement(Heart,{size:28}),
      React.createElement('span',{className:'text-xl font-bold'},'Cycle Tracker')
    ),
    React.createElement('main',{className:'pb-20'}, TrackTab()),
    React.createElement('footer',{className:'fixed bottom-0 left-1/2 -translate-x-1/2 w-full max-w-sm bg-white border-t'},
      React.createElement('nav',{className:'flex'},
        tabs.map(t=>React.createElement('button',{
          key:t.id,
          onclick:()=>setTab(t.id),
          className:`flex-1 p-3 flex flex-col items-center text-xs ${tab===t.id?'text-rose-500':'text-gray-500'}`
        },[React.createElement(t.icon,{size:20}),t.name]))
      )
    )
  );
}

ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App));
</script>
</body>
</html>
